<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://pollen-robotics.github.io/reachy-2021-docs/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://pollen-robotics.github.io/reachy-2021-docs/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://pollen-robotics.github.io/reachy-2021-docs/main.c0e952e8144cca7526ee90f817f2c188a9e43e7fe99d8ad61502f745ff494977a3f5630a0455ef98b1942edc23007622f89657a1032b237af7cefc54a082f461.css integrity="sha512-wOlS6BRMynUm7pD4F/LBiKnkPn/pnYrWFQL3Rf9JSXej9WMKBFXvmLGULtwjAHYi+JZXoQMrI3r3zvxUoIL0YQ==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Getting started with the mobile base - Reachy 2021</title><meta name=description content="Quick overview of the mobile base control using the Python SDK"><link rel=canonical href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/getting-started/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://pollen-robotics.github.io/reachy-2021-docs/favicon.ico"><meta name=twitter:title content="Getting started with the mobile base"><meta name=twitter:description content="Quick overview of the mobile base control using the Python SDK"><meta name=twitter:site content="@pollenrobotics"><meta name=twitter:creator content="@pollenrobotics"><meta property="og:title" content="Getting started with the mobile base"><meta property="og:description" content="Quick overview of the mobile base control using the Python SDK"><meta property="og:type" content="article"><meta property="og:url" content="https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/getting-started/"><meta property="og:image" content="https://pollen-robotics.github.io/reachy-2021-docs/favicon.ico"><meta property="article:published_time" content="2021-03-30T09:54:59+02:00"><meta property="article:modified_time" content="2021-03-30T09:54:59+02:00"><meta property="og:site_name" content="Reachy 2021"><meta property="article:publisher" content="https://www.facebook.com/pollenrobotics"><meta property="article:author" content="https://www.facebook.com/pollenrobotics"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/pollen-robotics.github.io\/reachy-2021-docs\/"},{"@type":"ListItem","position":2,"name":"Sdk","item":"https:\/\/pollen-robotics.github.io\/reachy-2021-docs\/sdk\/"},{"@type":"ListItem","position":3,"name":"Mobile Base","item":"https:\/\/pollen-robotics.github.io\/reachy-2021-docs\/sdk\/mobile-base\/"},{"@type":"ListItem","position":4,"name":"Getting Started","item":"https:\/\/pollen-robotics.github.io\/reachy-2021-docs\/sdk\/mobile-base\/getting-started\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://pollen-robotics.github.io/reachy-2021-docs/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://pollen-robotics.github.io/reachy-2021-docs/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://pollen-robotics.github.io/reachy-2021-docs/favicon-16x16.png><link rel=manifest href=https://pollen-robotics.github.io/reachy-2021-docs/site.webmanifest><script async src="https://www.googletagmanager.com/gtag/js?id=G-2EK4TRNC7L"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-2EK4TRNC7L')</script></head><body class="SDK single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://pollen-robotics.github.io/reachy-2021-docs/>Reachy 2021</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://twitter.com/pollenrobotics><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><span class="ms-2 visually-hidden">Twitter</span></a></li><li class=nav-item><a class=nav-link href=https://github.com/pollen-robotics/><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2" style=width:75%><li class=nav-item><a class=nav-link href=https://pollen-robotics.github.io/reachy-2021-docs/advanced/overview/full-kit>Description</a></li><li class=nav-item><a class=nav-link href=https://pollen-robotics.github.io/reachy-2021-docs/docs/installation/full-installation-process/>Setup Reachy</a></li><li class=nav-item><a class=nav-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/introduction/>Python SDK</a></li><li class=nav-item><a class=nav-link href=https://pollen-robotics.github.io/reachy-2021-docs/vr/introduction/introduction>VR</a></li><li class=nav-item><a class=nav-link href=https://pollen-robotics.github.io/reachy-2021-docs/dashboard/introduction/introduction>Dashboard</a></li><li class=nav-item><a class=nav-link href=https://pollen-robotics.github.io/reachy-2021-docs/help/check-dashboard>Help</a></li></ul><form class="navbar-form flex-grow-1 order-7 order-md-3" style=width:25%;margin-left:0><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Getting Started</h3><ul class=list-unstyled><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/introduction/>Introduction</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/install/>Installation</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/finding-ip/>Finding Reachy's IP</a></li></ul><h3>First moves</h3><ul class=list-unstyled><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/intro/>Once you're connected</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/safety/>Safety first</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/kinematics/>Arms kinematics</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/arm/>Controlling the arm</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/record/>Record and play trajectories</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/head/>Controlling the head</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/cameras/>Reachy's cameras</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/fans/>Controlling the fans</a></li></ul><h3>Mobile base</h3><ul class=list-unstyled><li><a class="docs-link active" href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/getting-started/>Getting started with the mobile base</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/moving-the-base/>Moving the mobile base</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/drive-control-modes/>Advanced</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/safety/>Anti-collision safety</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/mobile-base-alone/>Using the mobile base without Reachy</a></li></ul><h3>Application</h3><ul class=list-unstyled><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/application/hello-world/>Hello World</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/application/face-tracking/>Face Tracking</a></li></ul><h3>appendix</h3><ul class=list-unstyled><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/appendix/apis/>APIs</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/appendix/support/>Support</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#installation>Installation</a></li><li><a href=#connecting-to-reachy-mobile>Connecting to Reachy mobile</a></li><li><a href=#what-is-accessible-on-the-mobile-base>What is accessible on the mobile base</a></li><li><a href=#moving-the-mobile-base>Moving the mobile base</a><ul><li><a href=#using-the-goto-method>Using the goto method</a></li><li><a href=#using-a-joystick>Using a joystick</a></li></ul></li><li><a href=#hardware-abstraction-layer>Hardware Abstraction Layer</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Getting started with the mobile base</h1><p class=lead></p><h2 id=overview>Overview<a href=#overview class=anchor aria-hidden=true>#</a></h2><p>To control the mobile base, we developed a Python SDK working similarly to <em>reachy-sdk</em> but only for the mobile base: <a href=https://github.com/pollen-robotics/mobile-base-sdk>mobile-base-sdk</a>. As with <em>reachy-sdk</em>, you can use <em>mobile-base-sdk</em> to connect to the base remotely from another computer, as long as your computer and Reachy&rsquo;s computer are connected to the same network.</p><p>However, to avoid having to use two different Python SDks when working on Reachy mobile, we integrated the use of mobile-base-sdk in reachy-sdk so that when you&rsquo;re accessing the mobile base with the <em>reachy_mobile.mobile_base</em> attribute, you are actually using <em>mobile-base-sdk</em>.</p><p>Having a dedicated SDK for the mobile base still gives the advantage of having the possibility to work on the mobile base alone.
More detailed in the page <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/mobile-base-alone/>Using the mobile base without Reachy</a>.</p><h2 id=installation>Installation<a href=#installation class=anchor aria-hidden=true>#</a></h2><p>If you did not do it yet, follow the instructions from the <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/install/>install page</a> to learn how to install Reachy&rsquo;s Python SDK on your computer. We recommend performing the installation in a virtual environment.</p><blockquote><p>ðŸ’¡ You will need to make sure that you get a version of <a href=https://github.com/pollen-robotics/reachy-sdk>reachy-sdk</a> > 0.5.1 to be able to connect to the mobile base.</p></blockquote><p>Even though you used PyPi for the installation, we recommend cloning the <a href=https://github.com/pollen-robotics/mobile-base-sdk>mobile-base-sdk repository</a> on your computer as it gives you access to many <a href=https://github.com/pollen-robotics/mobile-base-sdk/tree/main/mobile_base_sdk/examples>examples</a> to learn how to use the mobile base.</p><h2 id=connecting-to-reachy-mobile>Connecting to Reachy mobile<a href=#connecting-to-reachy-mobile class=anchor aria-hidden=true>#</a></h2><p>Connecting to the mobile base using Reachy&rsquo;s Python SDK is as simple as connecting to Reachy. When instanciating the ReachySDK object with your Reachy&rsquo;s IP as in the <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/hello-world/>Hello World page</a>, you just have to specify that you are using a mobile base.</p><pre><code class=language-python>from reachy_sdk import ReachySDK

reachy_mobile = ReachySDK(host='your-reachy-ip', with_mobile_base=True)
</code></pre><p>The mobile base is then accessible with the <em>reachy_mobile.mobile_base</em> attribute.</p><pre><code class=language-python>reachy_mobile.mobile_base
&gt;&gt;&gt; &lt;MobileBase host='your-reachy-ip' - version=1.0 - battery_voltage=
        29.1 - drive mode=cmd_vel - control mode=open_loop&gt;
</code></pre><h2 id=what-is-accessible-on-the-mobile-base>What is accessible on the mobile base<a href=#what-is-accessible-on-the-mobile-base class=anchor aria-hidden=true>#</a></h2><p>The following are accessible with <em>reachy_mobile.mobile_base</em>:</p><ul><li>mobile base version,</li><li>battery level,</li><li>odometry of the base,</li><li>control and drive modes,</li><li>goto and set_speed methods to make the mobile base move.</li></ul><p>The section <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/moving-the-base/>moving the mobile base</a> details the use of the goto and set_speed methods, the odometry of the base while the <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/drive-control-modes/>advanced</a> section explains the role of the control and drive modes.</p><h2 id=moving-the-mobile-base>Moving the mobile base<a href=#moving-the-mobile-base class=anchor aria-hidden=true>#</a></h2><h3 id=using-the-goto-method>Using the goto method<a href=#using-the-goto-method class=anchor aria-hidden=true>#</a></h3><p>You can move the base with just one line of code, using the goto method. For example, you can make a 90 degrees rotation:</p><pre><code class=language-python>reachy_mobile.mobile_base.reset_odometry()
reachy_mobile.mobile_base.goto(x=0.0, y=0.0, theta=90.0)
</code></pre><p>Okay, that was 2 lines of code, but the first one is not needed and was added for safety. The section <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/moving-the-base/>moving the mobile base</a> is dedicated to explaining how to move the base using the Python SDK.</p><p>Check the <a href=https://github.com/pollen-robotics/reachy-sdk/blob/main/reachy_sdk/examples/mobile-base-getting-started.ipynb>getting-started notebook</a> for a detailed getting started example using the Python SDK.</p><h3 id=using-a-joystick>Using a joystick<a href=#using-a-joystick class=anchor aria-hidden=true>#</a></h3><p>The best (and easiest) way to get a sense of how the mobile base moves is by moving it yourself! It is easy to do that with the <a href=https://github.com/pollen-robotics/mobile-base-sdk/blob/main/mobile_base_sdk/examples/scripts/joy_controller.py>joy_controller.py script</a> where you can fully control the mobile base using an Xbox or PlayStation joystick (a controller should be included with your Reachy mobile).</p><p>To start controlling the base with <em>joy_controller.py</em>, just type:</p><pre><code class=language-bash>cd ~/dev/mobile-base-sdk/examples/script
python3 joy_controller.py
</code></pre><p>The left joystick will be used for translation and the right one for rotation.</p><p align=center><video controls width=100%>
<source type=video/mp4 src=../safety/lidar_safety_360.mp4></source></video><br></p><p>The script reads the controller and uses the <em>mobile-base-sdk</em> to send speed commands to the mobile base. Don&rsquo;t hesitate to take a look at the <a href=https://github.com/pollen-robotics/mobile-base-sdk/blob/main/mobile_base_sdk/examples/scripts/joy_controller.py>code</a> to have an example of good practices for an app involving the base.</p><h2 id=hardware-abstraction-layer>Hardware Abstraction Layer<a href=#hardware-abstraction-layer class=anchor aria-hidden=true>#</a></h2><p>In this documentation, you&rsquo;ll find references to the Hardware Abstraction Layer (HAL). The HAL is the ROS2 middleware that interacts with the hardware while the SDK interacts with the HAL. This modular software architecture allows for more flexibility and a simple, high level interface. However, if you need more control or a feature that wasn&rsquo;t ported to the SDK, you can interact directly with the HAL. The philosophy behind this documentation is to give an easy access to the most common usages, and to give pointers that can be useful when pursuing a more advanced usage. The <a href=https://github.com/pollen-robotics/zuuu_hal>HAL repository can be found here.</a></p><p class=edit-page><a href=https://github.com/pollen-robotics/reachy-2021-docs/blob/master/content/SDK/mobile-base/getting-started/index.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/fans/><div class="card my-1"><div class="card-body py-2">&larr; Controlling the fans</div></div></a><a class=ms-auto href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/mobile-base/moving-the-base/><div class="card my-1"><div class="card-body py-2">Moving the mobile base &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a>, and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer></div><script type=text/javascript src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src=https://pollen-robotics.github.io/reachy-2021-docs/js/bootstrap.min.2374eee79bc19379a4404a900e042aef91675978a6686beeb97b3b0fa80af5c349abc1304de36298d942cde796148b853299ff49801257ee2b89e89ac427d75b.js integrity="sha512-I3Tu55vBk3mkQEqQDgQq75FnWXimaGvuuXs7D6gK9cNJq8EwTeNimNlCzeeWFIuFMpn/SYASV+4rieiaxCfXWw==" crossorigin=anonymous defer></script><script src=https://pollen-robotics.github.io/reachy-2021-docs/js/highlight.min.7f5bf68b5bfc062d7e707000983ea05fd4de1b88dc3d1ab93cd3ac70ec6c3dba95a619ffec97e2fc2805b276f80bf0891648ec18320c55666298a293cb014739.js integrity="sha512-f1v2i1v8Bi1+cHAAmD6gX9TeG4jcPRq5PNOscOxsPbqVphn/7Jfi/CgFsnb4C/CJFkjsGDIMVWZimKKTywFHOQ==" crossorigin=anonymous defer></script><script src=https://pollen-robotics.github.io/reachy-2021-docs/main.min.7ab523108435955765bcb88a0ee704f412ba01646b5478e84f3b9feb24f0ce750a14c3f7bd9a62408fe21e41996d361a9eb29f77e85dfe77b7e17f7623bd3a97.js integrity="sha512-erUjEIQ1lVdlvLiKDucE9BK6AWRrVHjoTzuf6yTwznUKFMP3vZpiQI/iHkGZbTYanrKfd+hd/ne34X92I706lw==" crossorigin=anonymous defer></script><script src=https://pollen-robotics.github.io/reachy-2021-docs/index.min.a00bd9d68beea62184e2b6ff8cd64131de45bfd433e1b6ce713aafaa9ffc63ab69a1ed6c94766e51d1a8e088a58796538290558a552cd143e6bd929645563b9f.js integrity="sha512-oAvZ1ovupiGE4rb/jNZBMd5Fv9Qz4bbOcTqvqp/8Y6tpoe1slHZuUdGo4Iilh5ZTgpBVilUs0UPmvZKWRVY7nw==" crossorigin=anonymous defer></script></body></html>