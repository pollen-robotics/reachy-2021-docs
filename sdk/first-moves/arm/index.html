<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://pollen-robotics.github.io/reachy-2021-docs/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://pollen-robotics.github.io/reachy-2021-docs/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://pollen-robotics.github.io/reachy-2021-docs/main.1346e6d3fd6a220d51b6a9ae269b869da5a655ea7a700c851fbe13bb622d03649cbe484fdc90ab5db96a3694b029091b83ebbd6d9905f4a4a16d76c364f0aedc.css integrity="sha512-E0bm0/1qIg1RtqmuJpuGnaWmVep6cAyFH74Tu2ItA2ScvkhP3JCrXblqNpSwKQkbg+u9bZkF9KShbXbDZPCu3A==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Controlling the arm - Reachy 2021</title><meta name=description content="What are the joints in Reachy's arms, what information are available and how to control them."><link rel=canonical href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/arm/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://pollen-robotics.github.io/reachy-2021-docs/favicon.ico"><meta name=twitter:title content="Controlling the arm"><meta name=twitter:description content="What are the joints in Reachy's arms, what information are available and how to control them."><meta name=twitter:site content="@pollenrobotics"><meta name=twitter:creator content="@pollenrobotics"><meta property="og:title" content="Controlling the arm"><meta property="og:description" content="What are the joints in Reachy's arms, what information are available and how to control them."><meta property="og:type" content="article"><meta property="og:url" content="https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/arm/"><meta property="og:image" content="https://pollen-robotics.github.io/reachy-2021-docs/favicon.ico"><meta property="article:published_time" content="2020-10-06T08:48:57+00:00"><meta property="article:modified_time" content="2020-10-06T08:48:57+00:00"><meta property="og:site_name" content="Reachy 2021"><meta property="article:publisher" content="https://www.facebook.com/pollenrobotics"><meta property="article:author" content="https://www.facebook.com/pollenrobotics"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/pollen-robotics.github.io\/reachy-2021-docs\/"},{"@type":"ListItem","position":2,"name":"Sdk","item":"https:\/\/pollen-robotics.github.io\/reachy-2021-docs\/sdk\/"},{"@type":"ListItem","position":3,"name":"First Moves","item":"https:\/\/pollen-robotics.github.io\/reachy-2021-docs\/sdk\/first-moves\/"},{"@type":"ListItem","position":4,"name":"Arm","item":"https:\/\/pollen-robotics.github.io\/reachy-2021-docs\/sdk\/first-moves\/arm\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://pollen-robotics.github.io/reachy-2021-docs/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://pollen-robotics.github.io/reachy-2021-docs/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://pollen-robotics.github.io/reachy-2021-docs/favicon-16x16.png><link rel=manifest href=https://pollen-robotics.github.io/reachy-2021-docs/site.webmanifest></head><body class="SDK single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://pollen-robotics.github.io/reachy-2021-docs/>Reachy 2021</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://twitter.com/pollenrobotics><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><span class="ms-2 visually-hidden">Twitter</span></a></li><li class=nav-item><a class=nav-link href=https://github.com/pollen-robotics/><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=https://pollen-robotics.github.io/reachy-2021-docs/docs/overview/full-kit/>Setup Reachy</a></li><li class=nav-item><a class=nav-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/introduction/>Python SDK</a></li><li class=nav-item><a class=nav-link href=https://pollen-robotics.github.io/reachy-2021-docs/advanced/ros2/introduction>Advanced</a></li><li class=nav-item><a class=nav-link href=https://pollen-robotics.github.io/reachy-2021-docs/vr/introduction/introduction>VR</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Getting Started</h3><ul class=list-unstyled><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/introduction/>Introduction</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/install/>Installation</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/finding-ip/>Finding Reachy's IP</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/hello-world/>Hello World</a></li></ul><h3>First moves</h3><ul class=list-unstyled><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/intro/>Once you're connected</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/safety/>Safety first</a></li><li><a class="docs-link active" href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/arm/>Controlling the arm</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/kinematics/>Arms kinematics</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/head/>Controlling the head</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/cameras/>Reachy's cameras</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/fans/>Controlling the fans</a></li></ul><h3>appendix</h3><ul class=list-unstyled><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/appendix/apis/>APIs</a></li><li><a class=docs-link href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/appendix/support/>Support</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#arm-presentation>Arm presentation</a><ul><li><a href=#the-joints>The joints</a></li></ul></li><li><a href=#what-information-do-you-have-access-to>What information do you have access to?</a><ul><li><a href=#from-the-joints>From the joints</a></li><li><a href=#from-the-force-sensor>From the force sensor</a></li></ul></li><li><a href=#goto-function>goto() function</a><ul><li><a href=#presentation>Presentation</a></li><li><a href=#example>Example</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Controlling the arm</h1><p class=lead>Learn how to control Reachy's arms and what information you can get from its sensors.</p><p>Make sure you checked the <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/safety/>safety page</a> before controlling the arm.</p><p>This section assumes that you went through the <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/getting-started/hello-world/>Hello World</a> so that you know how to connect to the robot.</p><h2 id=arm-presentation>Arm presentation<a href=#arm-presentation class=anchor aria-hidden=true>#</a></h2><p>Reachy&rsquo;s arm offers 7 degrees of freedom + 1 provided by the gripper and is composed of 8 joints.</p><p>The arm&rsquo;s mechanical specifications are given <a href=https://pollen-robotics.github.io/reachy-2021-docs/docs/specifications/arm-specs/>here</a> but as a reminder, the arm schematic is given below:</p><p align=center><img src=arm_schematic.png alt=drawing width=50%></p><h3 id=the-joints>The joints<a href=#the-joints class=anchor aria-hidden=true>#</a></h3><p>Each joint has a unique name and uid. To access a specific joint, you can either use <em>reachy.joints</em> which has each joint in the robot as attribute or <em>reachy.l_arm</em>/<em>reachy.r_arm</em> depending on which arm the joint belongs to of course.</p><p>First, connect to your Reachy.</p><pre><code class=language-python>from reachy_sdk import ReachySDK

reachy = ReachySDK(host='192.168.0.42')  # Replace with the actual IP

reachy.joints.r_shoulder_pitch
&gt;&gt;&gt; &lt;Joint name=&quot;r_shoulder_pitch&quot; pos=&quot;27.98&quot; mode=&quot;compliant&quot;&gt;
</code></pre><p>The name and the id are attributes of the returned Joint object.</p><pre><code class=language-python>reachy.r_arm.r_shoulder_pitch.name
&gt;&gt;&gt; 'r_shoulder_pitch'
reachy.r_arm.r_shoulder_pitch.uid
&gt;&gt;&gt; 8
</code></pre><blockquote><p>The uid returned by the sdk is different from the id you may have seen in the mechanical specifications. The motor&rsquo;s id in the <a href=https://pollen-robotics.github.io/reachy-2021-docs/docs/specifications/arm-specs/>mechanical specification</a> is the one used at lower level by the dxl bus to communicate with the motors whereas the uid that you see in the sdk is the one used by the different grpc services.</p></blockquote><h2 id=what-information-do-you-have-access-to>What information do you have access to?<a href=#what-information-do-you-have-access-to class=anchor aria-hidden=true>#</a></h2><h3 id=from-the-joints>From the joints<a href=#from-the-joints class=anchor aria-hidden=true>#</a></h3><p>As explained, each joint composing an arm can be accessed using <em>reachy.r_arm</em> for the right arm and <em>reachy.l_arm</em> for the left arm.</p><p align=center><img src=arm_attributes.png alt=drawing width=75%></p><p>All the joints of a given arm can also be accessed simultaneously with the <em>.joints</em> attribute.</p><pre><code class=language-python>reachy.r_arm.joints
&gt;&gt;&gt; &lt;Holder
	&lt;Joint name=&quot;r_shoulder_pitch&quot; pos=&quot;27.98&quot; mode=&quot;compliant&quot;&gt;
	&lt;Joint name=&quot;r_shoulder_roll&quot; pos=&quot;-5.51&quot; mode=&quot;compliant&quot;&gt;
	&lt;Joint name=&quot;r_arm_yaw&quot; pos=&quot;-6.73&quot; mode=&quot;compliant&quot;&gt;
	&lt;Joint name=&quot;r_elbow_pitch&quot; pos=&quot;-71.34&quot; mode=&quot;compliant&quot;&gt;
	&lt;Joint name=&quot;r_forearm_yaw&quot; pos=&quot;0.15&quot; mode=&quot;compliant&quot;&gt;
	&lt;Joint name=&quot;r_wrist_pitch&quot; pos=&quot;-41.63&quot; mode=&quot;compliant&quot;&gt;
	&lt;Joint name=&quot;r_wrist_roll&quot; pos=&quot;-20.38&quot; mode=&quot;compliant&quot;&gt;
	&lt;Joint name=&quot;r_gripper&quot; pos=&quot;19.50&quot; mode=&quot;compliant&quot;&gt;
&gt;
</code></pre><p>This can be useful when you want to recover information like the position or the temperature of multiple arm joints at once.</p><p>Beside the joint name and uid there are multiple information which can be obtained from each joint, these are summarized in the <em>registers()</em> method.</p><pre><code class=language-python>reachy.r_arm.r_shoulder_pitch.registers()
&gt;&gt;&gt; {'name': 'r_shoulder_pitch',
 'uid': 8,
 'present_position': 22.441230263406165,
 'temperature': 41.0,
 'compliant': True,
 'goal_position': -0.32800019809599856,
 'speed_limit': 0.0,
 'torque_limit': 100.0,
 'pid': (32.0, 0.0, 0.0)}
</code></pre><h4 id=present_position>present_position<a href=#present_position class=anchor aria-hidden=true>#</a></h4><p>You can get the present position of each joint with this attribute.</p><pre><code class=language-python>reachy.r_arm.r_shoulder_pitch.present_position
&gt;&gt;&gt; 22.4
</code></pre><p>This can be useful in situations such as when you want to record a movement. For example you want to lift an object, you move the arm once yourself, store the present_position of each joint involved and replay it. This is what we used to get the movements in our <a href="https://www.youtube.com/watch?v=aGheS4HXEvI">Tictactoe application</a>!</p><p>Also if you want to teach movements to the robot with learning technics, storing the present_position of the joints will help you build a dataset.</p><h4 id=temperature>temperature<a href=#temperature class=anchor aria-hidden=true>#</a></h4><p>You also have access to each motor temperature with the temperature attribute of each joint. This temperature should be checked to make sure that the robot can operate correctly. The temperature is also monitored internally in Reachy and fans are turned on when the joints are heating.</p><p>Check the <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/safety/>safety page</a> before controlling the arm for more information.</p><pre><code class=language-python>reachy.r_arm.r_shoulder_pitch.temperature
&gt;&gt;&gt; 41.0
</code></pre><h4 id=compliant>compliant<a href=#compliant class=anchor aria-hidden=true>#</a></h4><p>As explained in the <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/safety/#dont-stay-in-stiff-mode-if-youre-not-moving-the-robot>previous page</a>, each motor in Reachy has two compliance modes: <strong>compliant</strong> where the motor is soft and can be freely turned by hand and <strong>stiff</strong> where the motor is hard and can only be moved by setting a target position.</p><p>A joint&rsquo;s compliance mode can be easily changed by setting its <em>compliant</em> attribute. At startup by default, all joints are compliant.</p><pre><code class=language-python>reachy.r_arm.r_shoulder_pitch.compliant
&gt;&gt;&gt; True
reachy.r_arm.r_shoulder_pitch.compliant = False # stiff mode
reachy.r_arm.r_shoulder_pitch.compliant
&gt;&gt;&gt; False
reachy.r_arm.r_shoulder_pitch.compliant = True # compliant mode
reachy.r_arm.r_shoulder_pitch.compliant
&gt;&gt;&gt; True
</code></pre><p>Because you will often want to turn stiff/compliant all the joints in an arm, in the head or each Reachy&rsquo;s joints, the methods <em>turn_on()</em> and <em>turn_off()</em> are provided in the SDK.</p><ul><li><strong>reachy.turn_on(part: str)</strong>: turn all the joints in the requested part in stiff mode,</li><li><strong>reachy.turn_off(part: str)</strong>: turn all the joints in the requested part in compliant mode.</li></ul><p>The <em>part</em> argument in these methods can either be <strong>&lsquo;reachy&rsquo;</strong>, <strong>&lsquo;l_arm&rsquo;</strong>, <strong>&lsquo;r_arm&rsquo;</strong> or <strong>&lsquo;head&rsquo;</strong>. Using <strong>&lsquo;reachy&rsquo;</strong> will turn on/off each joint in Reachy.</p><pre><code class=language-python>reachy.turn_on('r_arm')
</code></pre><p>Check Reachy&rsquo;s right arm after sending this command, if you try to move it with your hands you should feel the resistance applied by the right arm&rsquo;s motors to stay in their position. You can compare with the left arm&rsquo;s motors which should be in compliant mode.</p><p>Once you&rsquo;re done using the arm, don&rsquo;t forget to turn it back to compliant mode.</p><pre><code class=language-python>reachy.turn_off('r_arm')
</code></pre><blockquote><p>Switching from stiff to compliant for a joint can present a risk of harming Reachy because if the arm was stiff and in the air, it will just fall on what is below him. For example if you have Reachy above a table, place its arm in stiff mode and then in compliant mode, the arm will fall quite hard on the table unless you place your hand below to support the fall.</p></blockquote><p>That is why we also implemented the <strong>turn_off_smoothly</strong> method. With this, we first reduce the torque limit of the joint and then turn it to compliant mode. This result in a smoother transition between the two states.</p><p>See the difference below where both Reachy&rsquo;s arms are up and in stiff mode. To put them in compliant mode, we use <em>turn_off</em> on the left arm and <em>turn_off_smoothly</em> for the right arm.</p><video controls width=75% autoplay loop>
<source type=video/mp4 src=compliant.mp4></source><source type=video/webm src=orbita.webm></source><p>Your browser does not support the video element.</p></video><pre><code class=language-python>reachy.turn_on('reachy')
reachy.turn_off('l_arm')
reachy.turn_off_smoothly('r_arm')
</code></pre><h4 id=goal_position>goal_position<a href=#goal_position class=anchor aria-hidden=true>#</a></h4><p>The <em>goal_position</em> attribute of a joint is what is used to set a new joint&rsquo;s target position to make it move. However, we recommend using the <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/arm/#goto-function><strong>goto() function</strong></a> to move the motors which provides better control on the joint&rsquo;s trajectories.</p><h4 id=torquespeed_limit>torque/speed_limit<a href=#torquespeed_limit class=anchor aria-hidden=true>#</a></h4><p>The torque limit represents the percentage of maximum torque that the motor will use to stay in its present position when it is in stiff mode. We set it to 100% on each joint.</p><pre><code class=language-python>reachy.r_arm.r_shoulder_pitch.torque_limit
&gt;&gt;&gt; 100.0
</code></pre><p>According to the motors documentation, the speed is in rpm (raw per minute).</p><p align=center><img src=dynamixel_speed.png alt=drawing width=75%></p><p>source: <a href=https://emanual.robotis.com/docs/en/dxl/ax/ax-18a/#ccw-angle-limit>https://emanual.robotis.com/docs/en/dxl/ax/ax-18a/#ccw-angle-limit</a></p><p>We set the speed limit to 0 on each joint, meaning that the motors work at maximum speed.</p><pre><code class=language-python>reachy.r_arm.r_shoulder_pitch.speed_limit
&gt;&gt;&gt; 0.0
</code></pre><blockquote><p><strong>IMPORTANT</strong> We recommend you NOT to change these values. When you want to make movements with Reachy, it&rsquo;s better to replay recorded trajectories or to work with the <a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/arm/#goto-function><strong>goto() function</strong></a>.</p></blockquote><h4 id=pid>pid<a href=#pid class=anchor aria-hidden=true>#</a></h4><p>You can get and set the pid of each joint with the <em>pid</em> attribute.</p><pre><code class=language-python>reachy.r_arm.r_shoulder_pitch.pid
&gt;&gt;&gt; (32.0, 0.0, 0.0)
</code></pre><p>If you are familiar with control theory, you&rsquo;ll know what it represents, if not don&rsquo;t worry just ignore it!</p><h3 id=from-the-force-sensor>From the force sensor<a href=#from-the-force-sensor class=anchor aria-hidden=true>#</a></h3><p>In the 2021 version of Reachy, only one force sensor is used per arm and it is placed in the gripper to determine if the gripper has an object in it or not.</p><p>The force sensor is a 0.78kg micro load cell, it is placed in the arm&rsquo;s gripper as shown below</p><p align=center><img src=force_sensor.jpg alt=drawing width=50%></p><p>The force sensor of each arm is accessible with <em>reachy.force_sensors</em>.</p><pre><code class=language-python>reachy.force_sensors
&gt;&gt;&gt; &lt;Holder
	&lt;ForceSensor name=&quot;l_force_gripper&quot; force=&quot;29.76&quot;&gt;
	&lt;ForceSensor name=&quot;r_force_gripper&quot; force=&quot;-67.72&quot;&gt;
&gt;
</code></pre><p>For each force sensor, you can get its name and its force value.</p><pre><code class=language-python>reachy.force_sensors.l_force_gripper.name
&gt;&gt;&gt; 'l_force_gripper'
reachy.force_sensors.l_force_gripper.force
&gt;&gt;&gt; 29.8
</code></pre><p>The force value measures small deformations of the cell happening when an object is in the gripper. The interesting thing with this is that you can know how much Reachy is squeezing an object and determine a threshold where Reachy holds the object enough to manipulate it without forcing too much on the gripper motor.</p><h2 id=goto-function>goto() function<a href=#goto-function class=anchor aria-hidden=true>#</a></h2><h3 id=presentation>Presentation<a href=#presentation class=anchor aria-hidden=true>#</a></h3><p>This function generates a trajectory between the present position and the goal position. This trajectory is then interpolated at a predefined frequency (100Hz) to compute all intermediary target positions that should be followed before reaching the final goal position. Depending on the interpolation mode chosen, you can have a better control over speed and acceleration.</p><p>The two interpolation modes that we use consist in working either linearly or with the minjerk function.</p><p align=center><img src=interpolation.png alt=drawing width=75%></p><p>Both trajectories start and finish at the same point but don&rsquo;t follow the same intermediate positions. The minimum jerk will slowly accelerate at the begining and slowly decelerate at the end. This makes the movements more natural.</p><p>The goto() function takes as arguments:</p><ul><li><em>goal_positions</em>: dictionnary whose items are the joints you want to move with their goal positions,</li><li><em>duration</em>: duration in seconds of the trajectory,</li><li><em>starting_positions</em> (optional): dictionary whose items are the joints you want to move with their starting positions. By default it is a dictionary where the keys are the joints requested <em>goal_positions</em> with their present position,</li><li><em>sampling_freq</em> (optional): sampling frequency in hz for the trajectory interpolation, 100Hz by default,</li><li><em>interpolation_mode</em>: interpolation mode used to interpolate the trajectory, either <a href=https://pollen-robotics.github.io/reachy-sdk/api/trajectory/interpolation.html#reachy_sdk.trajectory.interpolation.InterpolationMode>InterpolationMode.LINEAR</a> or <a href=https://pollen-robotics.github.io/reachy-sdk/api/trajectory/interpolation.html#reachy_sdk.trajectory.interpolation.InterpolationMode>InterpolationMode.MINIMUM_JERK</a>.</li></ul><p>The function doc is also available <a href=https://pollen-robotics.github.io/reachy-sdk/api/trajectory/index.html>here</a>.</p><h3 id=example>Example<a href=#example class=anchor aria-hidden=true>#</a></h3><p>Let&rsquo;s see an example of how to use it.</p><p>You will use the <em>goto()</em> to place the right arm at a right-angled position. First, make sure that the Reachy&rsquo;s right arm is placed on a cleared table and that there will not be obstacles during its movement.</p><p>The setup should look like this:</p><p align=center><img src=base_pos.jpg alt=drawing width=60%></p><p>Import everything needed to execute the <em>goto()</em>:</p><pre><code class=language-python>from reachy_sdk.trajectory import goto
from reachy_sdk.trajectory.interpolation import InterpolationMode
</code></pre><p>Define the dictionary for the right-angled position for the right arm, this will be the <em>goal_positions</em> argument of the *goto():</p><pre><code class=language-python>right_angled_position = {
    reachy.r_arm.r_shoulder_pitch: 0,
    reachy.r_arm.r_shoulder_roll: 0,
    reachy.r_arm.r_arm_yaw: 0,
    reachy.r_arm.r_elbow_pitch: -90,
    reachy.r_arm.r_forearm_yaw: 0,
    reachy.r_arm.r_wrist_pitch: 0,
    reachy.r_arm.r_wrist_roll: 0,
}
</code></pre><p>For the <em>goto()</em> to work, the right arm&rsquo;s joints need to be in stiff mode.</p><pre><code class=language-python>reachy.r_arm.turn_on('r_arm')
</code></pre><p>Then the <em>goto()</em>, here we use a duration of 1 second with the minimum jerk as interpolation mode but feel free to change it.</p><pre><code class=language-python>goto(
	goal_positions=right_angled_position,
	duration=1.0,
	interpolation_mode=InterpolationMode.MINIMUM_JERK
	)
</code></pre><p>The result should look like this:</p><video controls width=75% autoplay loop>
<source type=video/mp4 src=goto.mp4></source><source type=video/webm src=orbita.webm></source><p>Your browser does not support the video element.</p></video><p>Don&rsquo;t forget to put the right arm&rsquo;s joints back to the compliant mode. Place your hand below the right arm&rsquo;s gripper to prevent the arm from falling hard on the table.</p><pre><code class=language-python>reachy.r_arm.turn_off('r_arm')
</code></pre><p class=edit-page><a href=https://github.com/pollen-robotics/reachy-2021-docs/blob/master/content/SDK/first-moves/arm/index.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/safety/><div class="card my-1"><div class="card-body py-2">&larr; Safety first</div></div></a><a class=ms-auto href=https://pollen-robotics.github.io/reachy-2021-docs/sdk/first-moves/kinematics/><div class="card my-1"><div class="card-body py-2">Arms kinematics &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a>, and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer></div><script type=text/javascript src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src=https://pollen-robotics.github.io/reachy-2021-docs/js/bootstrap.min.2374eee79bc19379a4404a900e042aef91675978a6686beeb97b3b0fa80af5c349abc1304de36298d942cde796148b853299ff49801257ee2b89e89ac427d75b.js integrity="sha512-I3Tu55vBk3mkQEqQDgQq75FnWXimaGvuuXs7D6gK9cNJq8EwTeNimNlCzeeWFIuFMpn/SYASV+4rieiaxCfXWw==" crossorigin=anonymous defer></script><script src=https://pollen-robotics.github.io/reachy-2021-docs/js/highlight.min.7f5bf68b5bfc062d7e707000983ea05fd4de1b88dc3d1ab93cd3ac70ec6c3dba95a619ffec97e2fc2805b276f80bf0891648ec18320c55666298a293cb014739.js integrity="sha512-f1v2i1v8Bi1+cHAAmD6gX9TeG4jcPRq5PNOscOxsPbqVphn/7Jfi/CgFsnb4C/CJFkjsGDIMVWZimKKTywFHOQ==" crossorigin=anonymous defer></script><script src=https://pollen-robotics.github.io/reachy-2021-docs/main.min.7ab523108435955765bcb88a0ee704f412ba01646b5478e84f3b9feb24f0ce750a14c3f7bd9a62408fe21e41996d361a9eb29f77e85dfe77b7e17f7623bd3a97.js integrity="sha512-erUjEIQ1lVdlvLiKDucE9BK6AWRrVHjoTzuf6yTwznUKFMP3vZpiQI/iHkGZbTYanrKfd+hd/ne34X92I706lw==" crossorigin=anonymous defer></script><script src=https://pollen-robotics.github.io/reachy-2021-docs/index.min.0da9bb1ee333632dc18a0c412fe24a223817381866646827d03688e117df84feaca8a4346001decc3e4f47326e501bf6edf96171389ff427f7954e5fddcaf9cd.js integrity="sha512-Dam7HuMzYy3BigxBL+JKIjgXOBhmZGgn0DaI4RffhP6sqKQ0YAHezD5PRzJuUBv27flhcTif9Cf3lU5f3cr5zQ==" crossorigin=anonymous defer></script></body></html>